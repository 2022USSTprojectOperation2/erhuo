<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试</title>

    <script src="../js/vue.js"></script>
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script src="../js/axios-0.18.0.js"></script>
    <link rel="stylesheet" href="../js/element-ui/lib/theme-chalk/index.css">
    <script src="../js/element-ui/lib/index.js"></script>

    <style>
        .el-table .warning-row {
            background: oldlace;
        }

        .el-table .success-row {
            background: #f0f9eb;
        }
    </style>

</head>
<body>
<div id="app">
    <template>
        <el-table
                :data="tableData"
                style="width: 100%"
                :row-class-name="tableRowClassName">
            <el-table-column
                    prop="userName"
                    label="用户名"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="password"
                    label="密码"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="phone"
                    label="手机号">
            </el-table-column>
        </el-table>
    </template>
</div>


<script>
    let pathName = window.location.pathname;
    let projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
    new Vue({
        el: "#app",
        data: {
            tableData: [],
            name:"123",
        },
        mounted() {
            this.getAllInfro();
        },
        methods: {
            getAllInfro() {
                let param = new URLSearchParams();
                //param.append("name", this.name);
                axios({
                    method: "get",
                    url: projectName + "/user/all",
                    data: param
                }).then((res) => {
                    this.tableData = res.data;
                })
            },
        }
    })
</script>

</body>
</html>